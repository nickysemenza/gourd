type Ingredient {
  uuid: String!
  name: String!
  recipes: [Recipe!]
}

type SectionInstruction {
  uuid: String!
  instruction: String!
}

union IngredientInfo = Ingredient | Recipe

type SectionIngredient {
  uuid: String!
  info: IngredientInfo!
  grams: Float!
  amount: Float!
  unit: String!
  adjective: String!
  optional: Boolean!
}

type Section {
  uuid: String!
  minutes: Int!
  instructions: [SectionInstruction!]!
  ingredients: [SectionIngredient!]!
}

type Recipe {
  uuid: String!
  name: String!
  total_minutes: Int!
  unit: String!
  sections: [Section!]!
}

input RecipeInput {
  uuid: String!
  name: String!
  total_minutes: Int
  unit: String
  sections: [SectionInput!]
}

input SectionInstructionInput {
  instruction: String!
}

input SectionIngredientInput {
  name: String!
  grams: Float!
  amount: Float!
  unit: String!
  adjective: String!
  optional: Boolean!
}

input SectionInput {
  minutes: Int!
  instructions: [SectionInstructionInput!]!
  ingredients: [SectionIngredientInput!]!
}

input NewRecipe {
  name: String!
}

type Mutation {
  createRecipe(recipe: NewRecipe): Recipe!
  updateRecipe(recipe: RecipeInput): Recipe!
}
type Query {
  recipes: [Recipe!]!
  recipe(uuid: String!): Recipe
  ingredients: [Ingredient!]!
}
